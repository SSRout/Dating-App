<!--Reactive Form-->
<form
  [formGroup]="registerForm"
  (ngSubmit)="register()"
  class="modern-register-form"
>
  <h2 class="form-title">Create Your Account</h2>
  <p class="form-subtitle">Join our community and find your perfect match</p>
  <hr class="form-divider" />

  <!-- Gender Selection -->
  <div class="form-group gender-selection">
    <label class="selection-label">I am a:</label>
    <div class="gender-options">
      <label class="radio-option">
        <input type="radio" value="male" formControlName="gender" />
        <span class="radio-label"> <i class="fa fa-mars"></i> Male </span>
      </label>
      <label class="radio-option">
        <input type="radio" value="female" formControlName="gender" />
        <span class="radio-label"> <i class="fa fa-venus"></i> Female </span>
      </label>
    </div>
  </div>

  <!-- Username -->
  <div class="form-group">
    <label class="form-label"> <i class="fa fa-user"></i> Username </label>
    <input
      type="text"
      class="form-control modern-input"
      formControlName="username"
      placeholder="Choose your username"
      [ngClass]="{
        'is-invalid':
          registerForm.get('username').errors &&
          registerForm.get('username').touched,
      }"
    />
    <div
      class="invalid-feedback"
      *ngIf="
        registerForm.get('username').touched &&
        registerForm.get('username').errors
      "
    >
      Username is required
    </div>
  </div>

  <!-- Known As -->
  <div class="form-group">
    <label class="form-label">
      <i class="fa fa-id-card"></i> Display Name
    </label>
    <input
      class="form-control modern-input"
      placeholder="How would you like to be known?"
      formControlName="knownAs"
      [ngClass]="{
        'is-invalid':
          registerForm.get('knownAs').errors &&
          registerForm.get('knownAs').touched,
      }"
    />
    <div
      class="invalid-feedback"
      *ngIf="
        registerForm.get('knownAs').touched &&
        registerForm.get('knownAs').errors
      "
    >
      Display name is required
    </div>
  </div>

  <!-- Date of Birth -->
  <div class="form-group">
    <label class="form-label">
      <i class="fa fa-calendar"></i> Date of Birth
    </label>
    <input
      class="form-control modern-input"
      placeholder="Select your date of birth"
      formControlName="Dob"
      type="date"
      [ngClass]="{
        'is-invalid':
          registerForm.get('Dob').errors && registerForm.get('Dob').touched,
      }"
    />
    <div
      class="invalid-feedback"
      *ngIf="registerForm.get('Dob').touched && registerForm.get('Dob').errors"
    >
      Date of birth is required
    </div>
  </div>

  <!-- City -->
  <div class="form-group">
    <label class="form-label"> <i class="fa fa-map-marker"></i> City </label>
    <input
      class="form-control modern-input"
      placeholder="Your city"
      formControlName="city"
      [ngClass]="{
        'is-invalid':
          registerForm.get('city').errors && registerForm.get('city').touched,
      }"
    />
    <div
      class="invalid-feedback"
      *ngIf="
        registerForm.get('city').touched && registerForm.get('city').errors
      "
    >
      City is required
    </div>
  </div>

  <!-- Country -->
  <div class="form-group">
    <label class="form-label"> <i class="fa fa-globe"></i> Country </label>
    <input
      class="form-control modern-input"
      placeholder="Your country"
      formControlName="country"
      [ngClass]="{
        'is-invalid':
          registerForm.get('country').errors &&
          registerForm.get('country').touched,
      }"
    />
    <div
      class="invalid-feedback"
      *ngIf="
        registerForm.get('country').touched &&
        registerForm.get('country').errors
      "
    >
      Country is required
    </div>
  </div>

  <!-- Password -->
  <div class="form-group">
    <label class="form-label"> <i class="fa fa-lock"></i> Password </label>
    <input
      type="password"
      class="form-control modern-input"
      formControlName="password"
      placeholder="Create a strong password"
      [ngClass]="{
        'is-invalid':
          registerForm.get('password').errors &&
          registerForm.get('password').touched,
      }"
    />
    <div
      class="invalid-feedback"
      *ngIf="
        registerForm.get('password').errors &&
        registerForm.get('password').touched
      "
    >
      <p *ngIf="registerForm.get('password').hasError('required')">
        Password is required
      </p>
      <p *ngIf="registerForm.get('password').hasError('minlength')">
        Password must be at least 3 characters
      </p>
      <p *ngIf="registerForm.get('password').hasError('maxlength')">
        Password must be at most 8 characters
      </p>
    </div>
  </div>

  <!-- Confirm Password -->
  <div class="form-group">
    <label class="form-label">
      <i class="fa fa-lock"></i> Confirm Password
    </label>
    <input
      type="password"
      class="form-control modern-input"
      formControlName="confirmPassword"
      placeholder="Confirm your password"
      [ngClass]="{
        'is-invalid':
          (registerForm.get('confirmPassword').errors &&
            registerForm.get('confirmPassword').touched) ||
          (registerForm.get('confirmPassword').touched &&
            registerForm.hasError('mismatch')),
      }"
    />
    <div
      class="invalid-feedback"
      *ngIf="
        registerForm.get('confirmPassword').touched &&
        (registerForm.get('confirmPassword').errors ||
          registerForm.hasError('mismatch'))
      "
    >
      <p *ngIf="registerForm.get('confirmPassword').hasError('required')">
        Confirm password is required
      </p>
      <p *ngIf="registerForm.hasError('mismatch')">Passwords do not match</p>
    </div>
  </div>

  <!-- Form Actions -->
  <div class="form-actions">
    <button
      class="btn btn-register"
      [disabled]="!registerForm.valid"
      type="submit"
    >
      <i class="fa fa-check"></i> Create Account
    </button>
    <button class="btn btn-cancel" type="button" (click)="cancel()">
      <i class="fa fa-times"></i> Cancel
    </button>
  </div>

  <p class="form-footer">
    Already have an account? <a href="#login">Sign in here</a>
  </p>
</form>
